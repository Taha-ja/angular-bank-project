{"ast":null,"code":"import { debounceTime, distinctUntilChanged, Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../customers.service.\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../customer-card/customer-card.component\";\nfunction ListingRouteComponent_app_customer_card_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-customer-card\", 12);\n    i0.ɵɵlistener(\"delete\", function ListingRouteComponent_app_customer_card_15_Template_app_customer_card_delete_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.delete($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const customer_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"customer\", customer_r1)(\"isDeleteLoading\", ctx_r0.getIsDeleteLoading(ctx_r0.pokemon));\n  }\n}\nexport class ListingRouteComponent {\n  constructor(customerService) {\n    this.customerService = customerService;\n    this.customers = [];\n    this.searchQuery = '';\n    this.searchQuerySubject = new Subject();\n    this.isDeleteLoading = [];\n    this.searchQuerySubject.pipe(debounceTime(500), distinctUntilChanged()).subscribe(query => {\n      this.search(query);\n    });\n  }\n  ngOnInit() {\n    this.customerService.getCustomers().subscribe(customers => {\n      this.customers = customers.map(c => c = {\n        ...c,\n        image: \"https://pbs.twimg.com/media/FjU2lkcWYAgNG6d.jpg\"\n      });\n      this.isDeleteLoading = customers.map(c => ({\n        id: c.id,\n        isLoading: false\n      }));\n    });\n  }\n  search(query) {\n    this.customerService.search(query).subscribe(customers => {\n      this.customers = customers.map(c => c = {\n        ...c,\n        image: \"https://pbs.twimg.com/media/FjU2lkcWYAgNG6d.jpg\"\n      });\n    });\n  }\n  onQuery(event) {\n    this.searchQuerySubject.next(event.target.value);\n  }\n  delete(customer) {\n    this.setIsLoading(customer, true);\n    this.customerService.deletePokemon(customer).subscribe(() => {\n      this.customers = this.customers.filter(c => c.id !== customer.id);\n      this.setIsLoading(customer, false);\n    });\n  }\n  getIsDeleteLoading(customer) {\n    return this.isDeleteLoading.find(c => c.id === customer.id)?.isLoading;\n  }\n  setIsLoading(customer, isLoading) {\n    this.isDeleteLoading = this.isDeleteLoading.map(c => {\n      if (c.id === customer.id) {\n        return {\n          ...c,\n          isLoading\n        };\n      }\n      return c;\n    });\n  }\n}\nListingRouteComponent.ɵfac = function ListingRouteComponent_Factory(t) {\n  return new (t || ListingRouteComponent)(i0.ɵɵdirectiveInject(i1.CustomersService));\n};\nListingRouteComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListingRouteComponent,\n  selectors: [[\"app-listing-route\"]],\n  decls: 16,\n  vars: 1,\n  consts: [[1, \"flex\", \"flex-col\", \"gap-6\", \"p-4\", \"justify-items-center\", \"items-center\"], [1, \"relative\", \"hidden\", \"md:block\"], [1, \"absolute\", \"inset-y-0\", \"left-0\", \"flex\", \"items-center\", \"pl-3\", \"pointer-events-none\"], [\"aria-hidden\", \"true\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 20 20\", \"xmlns\", \"http://www.w3.org/2000/svg\", 1, \"w-5\", \"h-5\", \"text-gray-500\"], [\"fill-rule\", \"evenodd\", \"d\", \"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\", \"clip-rule\", \"evenodd\"], [1, \"sr-only\"], [\"type\", \"text\", \"id\", \"search-navbar\", \"placeholder\", \"Search...\", 1, \"block\", \"w-full\", \"p-2\", \"pl-10\", \"text-sm\", \"text-gray-900\", \"border\", \"border-gray-300\", \"rounded-lg\", \"bg-gray-50\", \"focus:ring-blue-500\", \"focus:border-blue-500\", \"dark:bg-gray-700\", \"dark:border-gray-600\", \"dark:placeholder-gray-400\", \"dark:text-white\", \"dark:focus:ring-blue-500\", \"dark:focus:border-blue-500\", 3, \"input\"], [1, \"text-2xl\", \"pt-16\", \"font-bold\"], [1, \"w-3/5\"], [1, \"ml-5\"], [1, \"justify-items-center\", \"items-center\", \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"lg:grid-cols-4\", \"gap-20\", \"p-4\", \"mx-auto\", \"h-screen\", \"md:h-screen\", \"min-w-max\"], [3, \"customer\", \"isDeleteLoading\", \"delete\", 4, \"ngFor\", \"ngForOf\"], [3, \"customer\", \"isDeleteLoading\", \"delete\"]],\n  template: function ListingRouteComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵnamespaceSVG();\n      i0.ɵɵelementStart(3, \"svg\", 3);\n      i0.ɵɵelement(4, \"path\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵnamespaceHTML();\n      i0.ɵɵelementStart(5, \"span\", 5);\n      i0.ɵɵtext(6, \"Search icon\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"input\", 6);\n      i0.ɵɵlistener(\"input\", function ListingRouteComponent_Template_input_input_7_listener($event) {\n        return ctx.onQuery($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"h2\", 7);\n      i0.ɵɵtext(9, \"Discover our Customers\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"p\", 8)(11, \"span\", 9);\n      i0.ɵɵtext(12, \"O\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \"ur financial institution takes pride in serving a diverse group of bank customers, including individuals from all walks of life, as well as small and large businesses across various industries, who rely on us to provide them with secure and reliable banking services, such as checking and savings accounts, loans, credit cards, investment advice, and more.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 10);\n      i0.ɵɵtemplate(15, ListingRouteComponent_app_customer_card_15_Template, 1, 2, \"app-customer-card\", 11);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", ctx.customers);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.CustomerCardComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["debounceTime","distinctUntilChanged","Subject","i0","ListingRouteComponent","constructor","customerService","searchQuerySubject","pipe","subscribe","query","search","ngOnInit","getCustomers","customers","map","c","image","isDeleteLoading","id","isLoading","onQuery","event","next","target","value","delete","customer","setIsLoading","deletePokemon","filter","getIsDeleteLoading","find","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\angular-project\\src\\app\\listing-route\\listing-route.component.ts","D:\\angular-project\\src\\app\\listing-route\\listing-route.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { debounceTime, distinctUntilChanged, Subject } from 'rxjs';\nimport { CustomersService } from '../customers.service.';\nimport { Customer } from '../models/customer.model';\n\n@Component({\n  selector: 'app-listing-route',\n  templateUrl: './listing-route.component.html',\n  styleUrls: ['./listing-route.component.css'],\n})\nexport class ListingRouteComponent implements OnInit {\n  customers: Customer[] = [];\n  searchQuery = '';\n  searchQuerySubject = new Subject<string>();\n  isDeleteLoading: any[] = [];\n  constructor(private customerService: CustomersService) {\n    this.searchQuerySubject\n    .pipe(debounceTime(500), distinctUntilChanged())\n    .subscribe((query: string) => {\n      this.search(query);\n    });\n  }\n\n  ngOnInit(): void {\n    this.customerService.getCustomers().subscribe(customers =>{\n      this.customers = customers.map(c=>c={...c,image:\"https://pbs.twimg.com/media/FjU2lkcWYAgNG6d.jpg\"});\n      this.isDeleteLoading = customers.map((c) => ({\n        id: c.id,\n        isLoading: false,\n      }));\n    })\n  }\n  search(query: string) {\n    this.customerService.search(query).subscribe((customers) => {\n      this.customers = customers.map(c=>c={...c,image:\"https://pbs.twimg.com/media/FjU2lkcWYAgNG6d.jpg\"});\n    });\n  }\n  onQuery(event: any) {\n    this.searchQuerySubject.next(event.target.value);\n  }\n  delete(customer:Customer){\n    this.setIsLoading(customer, true);\n    this.customerService.deletePokemon(customer).subscribe(() => {\n      this.customers = this.customers.filter((c) => c.id !== customer.id);\n      this.setIsLoading(customer, false);\n    });\n  }\n  getIsDeleteLoading(customer: Customer) {\n    return this.isDeleteLoading.find((c) => c.id === customer.id)?.isLoading;\n  }\n  private setIsLoading(customer: Customer, isLoading: boolean) {\n    this.isDeleteLoading = this.isDeleteLoading.map((c) => {\n      if (c.id === customer.id) {\n        return { ...c, isLoading };\n      }\n      return c;\n    });\n  }\n}\n","<div class=\"flex flex-col gap-6 p-4 justify-items-center items-center \">\n      <div class=\"relative hidden md:block\">\n      <div class=\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none\">\n        <svg class=\"w-5 h-5 text-gray-500\" aria-hidden=\"true\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\" clip-rule=\"evenodd\"></path></svg>\n        <span class=\"sr-only\">Search icon</span>\n      </div>\n      <input type=\"text\" id=\"search-navbar\" class=\"block w-full p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\" placeholder=\"Search...\" (input)=\"onQuery($event)\">\n    </div>\n  <h2 class=\"text-2xl pt-16 font-bold\">Discover our Customers</h2>\n  <p class=\"w-3/5\"><span class=\"ml-5\">O</span>ur financial institution takes pride in serving a diverse group of bank customers, including individuals from all walks of life, as well as small and large businesses across various industries, who rely on us to provide them with secure and reliable banking services, such as checking and savings accounts, loans, credit cards, investment advice, and more.</p>\n  <div\n    class=\"justify-items-center items-center grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-20 p-4  mx-auto h-screen md:h-screen min-w-max\">\n    <app-customer-card *ngFor=\"let customer of customers\" [customer]=\"customer\" (delete)=\"delete($event)\" [isDeleteLoading]=\"getIsDeleteLoading(pokemon)\"></app-customer-card>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}